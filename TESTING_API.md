# Тестирование API интеграции

## Проверка инициализации данных

### 1. Состояние по умолчанию
- ✅ `menu` инициализируется как пустой массив `[]`
- ✅ `diagnoses` инициализируется как пустой массив `[]`
- ✅ Компоненты не пытаются обработать данные до загрузки

### 2. Логирование структуры данных
При загрузке данных в консоли браузера вы увидите:
```
App: Loaded diagnoses data: [...]
DailyMenuPage: Loaded diagnosis data: {...}
DailyMenuPage: Loaded daily plan data: [...]
DailyMenuPage: Meal 0: { time: "...", mealKey: "...", ingredients: [...], nutrition: {...} }
```

### 3. Проверка обязательных полей
Каждый элемент меню должен содержать:
- `time` - время приема пищи
- `mealKey` - ключ для перевода
- `ingredients` - массив ингредиентов
- `nutrition` - объект с калориями, белками, жирами, углеводами

## Обработка ошибок

### 1. Пустые данные
- Показывается сообщение "No menu data available"
- Компоненты не пытаются обработать undefined/null

### 2. Некорректные данные
- Фильтруются невалидные элементы
- Показывается сообщение "No valid menu data available"
- Логируются предупреждения в консоль

### 3. Разные форматы ингредиентов
Поддерживаются форматы:
```javascript
// Простая строка
ingredients: ["banana", "apple"]

// Объект с вложенностью
ingredients: [{ food: { code: "banana" } }]

// Объект с прямым кодом
ingredients: [{ code: "banana" }]

// Объект с именем
ingredients: [{ name: "banana" }]
```

## Тестирование

### 1. Откройте консоль браузера (F12)
### 2. Перейдите на страницу меню
### 3. Проверьте логи:
- Нет ошибок при загрузке
- Структура данных корректна
- Все обязательные поля присутствуют

### 4. Проверьте интерфейс:
- Спиннер загрузки отображается
- Данные корректно отображаются
- Переводы работают
- Карусель ингредиентов функционирует

## Возможные проблемы

### 1. "No diagnosis ID provided"
- Проверьте, что переход на страницу меню происходит с правильными параметрами

### 2. "Invalid diagnoses data format"
- Проверьте, что API возвращает массив диагнозов

### 3. "No valid menu data available"
- Проверьте структуру данных от API
- Убедитесь, что все обязательные поля присутствуют

### 4. "No ingredients available"
- Проверьте, что ингредиенты передаются в правильном формате
- Убедитесь, что переводы для продуктов существуют
